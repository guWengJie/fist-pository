<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{
				margin: 0px;
				padding: 0px;
			}
			ul{
				width: 1000px;
				height:250px;
				overflow: hidden;
				position: relative;
			}
			ul>li{
				width: 200px;
				height:250px;
				list-style: none;
				float: left;
			}
		</style>
	</head>
	<body>
		<table border="1" cellspacing="" cellpadding="">
			<tr align="center">
				<td width="30"><input type="checkbox" id="ch1"/></td><td>Header</td><td>Header</td>
			</tr>
			<tr align="center">
				<td><input type="checkbox" name="ch2"/></td><td>Data</td><td>Data</td>
			</tr>
			<tr align="center">
				<td><input type="checkbox" name="ch2"/></td><td>Data</td><td>Data</td>
			</tr>
			<tr align="center">
				<td><input type="checkbox" name="ch2"/></td><td>Data</td><td>Data</td>
			</tr>
			<tr align="center">
				<td><input type="checkbox" name="ch2"/></td><td>Data</td><td>Data</td>
			</tr>
		</table>
	</body>
</html>
<script src="../js/jquery-1.4.js"></script>
<script>
	$(function(){
		var $li=$("[name]");
		$("#ch1").click(function(){
			if($(this).prop("checked")){
				$li.prop("checked",true);
			}else{
				$li.prop("checked",false);
			}
		})
		$li.click(function(){
			var cnt=0;
			for (var i=0; i<$li.length; i++) {
				if($li[i].checked){
					cnt++;
				}
			}
			if(cnt==4){
				$("#ch1").prop("checked",true)
			}else{
				$("#ch1").prop("checked",false)
			}
		})
	})
</script>
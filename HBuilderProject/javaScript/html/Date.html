<!DOCTYPE html>
<html>
	<head>  
		<meta charset="UTF-8">  
		<title>倒计时动画</title>  
		<style>    
			div{      
				text-align:center;      
				height:100px;      
				line-height:100px;
				background:red; 
				font-size:25px;    
				}
			p{      
				text-align:center;      
				height:100px;      
				line-height:100px;
				background:blue; 
				color:yellow;
				font-size:25px;   
			}  
		</style> 
	</head>
	<body>
		<div>
			<span id="nowTime"></span>
			<span id="newTime"></span>
		</div>
		<p></p>
	</body>
</html>
<script>  
	setTimeout(function(){
		window.close();
	},3000);
/*	window.onload = function(){      
		setInterval(FreeTime,1000);    
	}    
	function FreeTime(){     
		var curTime = Date.now();     
		var endTime = new Date("2018-5-26 00:00:00");      
		var allFreeSeconds = (endTime-curTime)/1000;      
		if(allFreeSeconds>0){        
			var freeDay = Math.floor(allFreeSeconds/(24*60*60));        
			var freeHour = Math.floor(allFreeSeconds/(60*60) % 24);        
			var freeMinute = Math.floor(allFreeSeconds/60 % 60);        
			var freeSecond = Math.floor(allFreeSeconds%60);        
			document.getElementById("nowTime").innerHTML = "剩余"+freeDay+"天"+freeHour+"时"+freeMinute+"分"+freeSecond+"秒";      
		}else{        
			document.getElementById("nowTime").innerHTML = "已结束";      
		}    
	}
	*/

	var time="2018-08-21";
	function timeGet(time){
		var newDate=new Date(time);//截止时间
		var oldDate=new Date();//系统时间
		var nowDate=(newDate-oldDate)/1000;    //截止时间-系统时间得到剩下的时间
		var day=Math.floor(nowDate/(24*60*60));
		var hour=Math.floor(nowDate/(60*60)%24);
		var fen=Math.floor(nowDate/60%60);
		var miao=Math.floor(nowDate%60);
		document.getElementById("newTime").innerText="剩余"+day+"天"+hour+"小时"+fen+"分"+miao+"秒";
//		setTimeout("timeGet(time)",1000)
	}	
	setInterval(function(){
		timeGet(time)
	},1000);
//	timeGet(time);

	
	function DJS(time){
		var firstTime=new Date(time);
		var sysTime=new Date();
		var totaDay=(firstTime-sysTime)/1000/60/60/24;//得到天数
		var intDay=parseInt(totaDay);//整天
		var totalHou=(totaDay-intDay)*24;//总小时
		var intHou=parseInt(totalHou);//整小时
		var totalMin=(totalHou-intHou)*60;//中分中
		var intMin=parseInt(totalMin);//整分钟
		var intS=parseInt((totalMin-intMin)*60);//整秒
		document.querySelector("p").innerText="剩余"+intDay+"天"+intHou+"时"+intMin+"分"+intS+"秒";
	}
	setInterval(function(){DJS("2018-08-21")},1000);
	requestAnimationFrame(function(){
		requestAnimationFrame(arguments.callee);
	});
	
	
</script>


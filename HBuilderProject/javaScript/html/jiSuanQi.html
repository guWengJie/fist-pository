<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			button{
				width:50px;
				height:30px;
				font-size:24px;
				font-weight: 900;
			}
			input{
				width:204px;
				height:46px;
				
			}
		</style>
		
	</head>
	<body>
		<table border="1" cellpadding="0" cellspacing="0">
			<tr>
				<td colspan="4" height="50"><input type="text"  id="val" disabled="disabled"/></td>
			</tr>
			<tr>
				<td><button>0</button></td>
				<td><button>1</button></td>
				<td><button>2</button></td>
				<td><button>3</button></td>
			</tr>
			<tr>
				<td><button>4</button></td>
				<td><button>5</button></td>
				<td><button>6</button></td>
				<td><button>7</button></td>
			</tr>
			<tr>
				<td><button>8</button></td>
				<td><button>9</button></td>
				<td><button>*</button></td>
				<td><button>/</button></td>
			</tr>
			<tr>
				<td><button>+</button></td>
				<td><button>-</button></td>
				<td><button>%</button></td>
				<td><button>=</button></td>
			</tr>
			<tr>
				<td><button>D</button></td>
				<td><button>C</button></td>
				<td><button>H</button></td>
				<td><button>S</button></td>
			</tr>
		</table>
	</body>
</html>
<script>
	var arr=["=","D","C","H","S"];	
	var arr1=["+","-","*","/","%"];	
	var list=[];
	var index=-1;
	document.querySelector("table").onclick=function(b){		
		var res=document.getElementById("val");
		var a=b.target.innerText;
		var c=res.value.substr(res.value.length-1,1);
		if(arr.indexOf(a)==-1){			
			if(arr1.indexOf(c) !=-1 && arr1.indexOf(a) !=-1){
			}else{
				res.value+=a;
			}
		}else{
			switch(a){
				case "=":
					index++;
					res.value=eval(res.value);
					list.push(res.value);
				break;
				case "D":
					res.value=res.value.substr(0,res.value.length-1);
				break;
				case "C":
					res.value="";
				break;
				case "H":
					index--;
					if(index<=0){
						res.value=list[0];	
					}else{
						res.value=list[index];	
					}
				break;
				case "S":
					res.value*=res.value;
				break;
				default:;
			}
		}
	}
	
	
</script>